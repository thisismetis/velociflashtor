<% @cards.each_with_index do |card, index| %>
  <%= div_for card, style: "display: none", data: { index: index } do %>
    <div class="front" style="display: none">
      <p> <%= card.front %></p>
    </div>
    <div class="back" style="display: none">
      <p><%= card.back %></p>
    </div>
  <% end %>
<% end %>

<script>
var index = 0;
$(document).ready(function(){
    $("[data-index=" +index+ "]").show();
    $("[data-index=" +index+ "] .front").show();
    $("#flip-button").click(function() {
        $("[data-index="+index+"] .back").toggle();
        $("[data-index="+index+"] .front").toggle();
        })

    $("#next-button").click(function() {
      $("[data-index="+index+"]").toggle();
      index += 1;
      $("[data-index="+index+"]").toggle();
      $("[data-index=" +index+ "] .front").show();
      });

    $("#previous-button").click(function() {
      $("[data-index="+index+"]").toggle();
      index -= 1;
      $("[data-index="+index+"]").toggle();
      $("[data-index=" +index+ "] .front").show();
      });
    });
</script>




<button id="previous-button">Previous</button>
<button id="flip-button">Flip</button>
<button id="next-button">Next</button>
